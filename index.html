<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Josefin+Slab:ital,wght@0,100..700;1,100..700&family=Knewave&display=swap"
      rel="stylesheet"
    />
    <!-- Css -->
    <link rel="stylesheet" href="./assets/css/reset.css" />
    <link rel="stylesheet" href="./assets/css/style.css" />
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <title>In Her Dream</title>
  </head>
  <body>
    <!-- Audio Background Music -->
    <audio id="backgroundMusic" loop autoplay muted>
      <source src="./assets/audios/Alegend - Majestic (freetouse.com).mp3" type="audio/mpeg">
      Your browser does not support the audio element.
    </audio>
    
    <!-- Music Control Button -->
    <div class="music-control">
      <button id="musicToggle" class="music-toggle">
        <span class="music-icon">ðŸŽµ</span>
      </button>
    </div>
    
    <!-- Section 1  -->
    <section class="hero">
      <div class="container">
        <div class="container-hero">
          <div class="inherdream">
            <img
              class="inherdream__background"
              src="./assets/img/openscene/background.png"
              alt="background"
            />
            <img
              class="inherdream__port"
              src="./assets/img/openscene/port.svg"
              alt="port"
            />
            <img
              class="inherdream__window"
              src="./assets/img/openscene/window.svg"
              alt="window"
            />
            <img
              class="inherdream__bed"
              src="./assets/img/openscene/bed.svg"
              alt="bed"
            />
            <img class="inherdream__head" src="./assets/img/openscene/head.svg" alt="head" />
            <img
              class="inherdream__blanket"
              src="./assets/img/openscene/blanket.svg"
              alt="blanket"
            />
          </div>
          <div class="hero--text" >
            <h1 class="inherdream__title" data-aos="fade-right">In Her Dream</h1>
            <div class="inherdream__author" data-aos="fade-left">__Thanh Nguyen_s3927111__</div>
          </div>
        </div>
      </div>
    </section>
    <!-- Section 2 -->
    <section class="scene-2">
      <div class="container">
        <div class="scene-2__content">
          <img class="scene-2__background" src="./assets/img/openscene/background.png" alt="background" />
          <img class="scene-2__moon" src="./assets/img/scene 1/moon.svg" alt="moon" />
          <img class="scene-2__wind" src="./assets/img/scene 1/wind.svg" alt="wind" />
          <div class="scene-2__text">
            <p class="scene-2__poem" data-aos="fade-left">She closed her eyes as twilight fell,</p>
            <p class="scene-2__poem" data-aos="fade-left">And moonlight stirred a magic spell.</p>
          </div>
        </div>
      </div>
    </section>
    <!-- Section 3 -->
    <section class="scene-3">
      <div class="container">
        <div class="scene-3__content">
          <img class="scene-3__background" src="./assets/img/openscene/background.png" alt="background" />
          <img class="scene-3__path" src="./assets/img/scene 2/path.svg" alt="path" />
          <img class="scene-3__mist1" src="./assets/img/scene 2/mist4.svg" alt="mist1" />
          <img class="scene-3__mist2" src="./assets/img/scene 2/mist2.svg" alt="mist2" />
          <img class="scene-3__mist3" src="./assets/img/scene 2/mist2.svg" alt="mist3" />
          <img class="scene-3__mist4" src="./assets/img/scene 2/mist1.svg" alt="mist4" />
          <img class="scene-3__main" src="./assets/img/scene 2/main.svg" alt="main character" />
          <div class="scene-3__text">
            <p class="scene-3__poem" data-aos="fade-up-left">Through drifting mist and starlit air,</p>
            <p class="scene-3__poem" data-aos="fade-up-left">She walked a world beyond compare.</p>
          </div>
        </div>
      </div>
    </section>
    <!-- Section 4 -->
    <section class="scene-4">
      <div class="container">
        <div class="scene-4__content">
          <img class="scene-4__background" src="./assets/img/openscene/background.png" alt="background" />
          <img class="scene-4__trees-bg-1" src="./assets/img/scene 3/trees bg-1.svg" alt="trees background 1" />
          <img class="scene-4__trees-bg-2" src="./assets/img/scene 3/trees bg-2.svg" alt="trees background 2" />
          <img class="scene-4__trees-bg-3" src="./assets/img/scene 3/trees bg-3.svg" alt="trees background 3" />
          <img class="scene-4__ground" src="./assets/img/scene 3/ground.svg" alt="ground" />
          <img class="scene-4__tree-4rground-1" src="./assets/img/scene 3/tree 4rground-1.svg" alt="tree foreground 1" />
          <img class="scene-4__tree-4rground-2" src="./assets/img/scene 3/tree 4rground-2.svg" alt="tree foreground 2" />
          <img class="scene-4__tree-4rground-3" src="./assets/img/scene 3/tree 4rground-3.svg" alt="tree foreground 3" />
          <img class="scene-4__tree-4rground-4" src="./assets/img/scene 3/tree 4rground-4.svg" alt="tree foreground 4" />
          <img class="scene-4__grass" src="./assets/img/scene 3/grass.svg" alt="grass" />
          <img class="scene-4__bush-4g" src="./assets/img/scene 3/bush 4g.svg" alt="bush" />
          <img class="scene-4__birds" src="./assets/img/scene 3/birds.svg" alt="birds" />
          <img class="scene-4__tren-cung" src="./assets/img/scene 3/tren cung.svg" alt="tren cung" />
          <div class="scene-4__text">
            <p class="scene-4__poem" data-aos="fade-down-right">Crimson trees</p>
          </div>
        </div>
      </div>
    </section>
    <!-- Section 5 -->
    <section class="scene-5">
      <div class="container">
        <div class="scene-5__content">
          <img class="scene-5__background" src="./assets/img/openscene/background.png" alt="background" />
          <img class="scene-5__skyline" src="./assets/img/scene 4/skyline.svg" alt="skyline" />
          <img class="scene-5__wave-1" src="./assets/img/scene 4/wave 1.svg" alt="wave 1" />
          <img class="scene-5__wave-2" src="./assets/img/scene 4/wave 2.svg" alt="wave 2" />
          <img class="scene-5__wave-3" src="./assets/img/scene 4/wave 3.svg" alt="wave 3" />
          <img class="scene-5__boat" src="./assets/img/scene 4/boat.svg" alt="boat" />
          <img class="scene-5__mainchar" src="./assets/img/scene 4/mainchar.svg" alt="main character" />
          <div class="scene-5__text">
            <p class="scene-5__poem" data-aos="fade-down-right">and glassy streams,</p>
          </div>
        </div>
      </div>
    </section>
    <!-- Section 6 -->
    <section class="scene-6">
      <div class="container">
        <div class="scene-6__content">
          <img class="scene-6__background" src="./assets/img/openscene/background.png" alt="background" />
          <img class="scene-6__big-crow" src="./assets/img/scene 5/big crow.svg" alt="big crow" />
          <img class="scene-6__small-crow" src="./assets/img/scene 5/small crow.svg" alt="small crow" />
          <div class="scene-6__text">
            <p class="scene-6__poem" data-aos="zoom-in-up">Crows that spoke and</p>
            <p class="scene-6__poem" data-aos="zoom-in-up">whispered dreams.</p>
          </div>
        </div>
      </div>
    </section>
    <!-- Section 7 -->
    <section class="scene-7">
      <div class="container">
        <div class="scene-7__content">
          <img class="scene-7__background" src="./assets/img/openscene/background.png" alt="background" />
          <img class="scene-7__ground" src="./assets/img/scene 6/ground.svg" alt="ground" />
          <img class="scene-7__shadow" src="./assets/img/scene 6/shadow.svg" alt="shadow" />
          <img class="scene-7__bush-1" src="./assets/img/scene 6/bush 1.svg" alt="bush 1" />
          <img class="scene-7__bush-2" src="./assets/img/scene 6/bush 2.svg" alt="bush 2" />
          <img class="scene-7__deer" src="./assets/img/scene 6/deer.svg" alt="deer" />
          <div class="scene-7__text">
            <p class="scene-7__poem" data-aos="zoom-in-right">A deer with eyes like</p>
            <p class="scene-7__poem" data-aos="zoom-in-right">sapphire flame</p>
            <p class="scene-7__poem" data-aos="zoom-in-right">Said, "Follow me â€” you'll</p>
            <p class="scene-7__poem" data-aos="zoom-in-right">not be the same."</p>
          </div>
        </div>
      </div>
    </section>
    <!-- Section 8 -->
    <section class="scene-8">
      <div class="container">
        <div class="scene-8__content">
          <img class="scene-8__background" src="./assets/img/openscene/background.png" alt="background" />
          <img class="scene-8__mountain-1" src="./assets/img/scene 7/mountain 1.svg" alt="mountain 1" data-aos="zoom-out-up"/>
          <img class="scene-8__mountain-2" src="./assets/img/scene 7/mountain 2.svg" alt="mountain 2" data-aos="zoom-out-up"/>
          <img class="scene-8__mountain-3" src="./assets/img/scene 7/mountain 3.svg" alt="mountain 3" data-aos="zoom-out-up"/>
          <img class="scene-8__second" src="./assets/img/scene 7/second.svg" alt="second" />
          <img class="scene-8__third" src="./assets/img/scene 7/third.svg" alt="third" />
          <img class="scene-8__forth" src="./assets/img/scene 7/forth.svg" alt="forth" />
          <img class="scene-8__fifth" src="./assets/img/scene 7/fifth.svg" alt="fifth" />
          <img class="scene-8__top" src="./assets/img/scene 7/top.svg" alt="top" />
          <div class="scene-8__text-left">
            <p class="scene-8__poem" data-aos="fade-right">A tower rose in ticking time,</p>
          </div>
          <div class="scene-8__text-right">
            <p class="scene-8__poem" data-aos="fade-left">Inside, a girl with eyes like mine.</p>
          </div>
        </div>
      </div>
    </section>
    <!-- Section 9 -->
    <section class="scene-9">
      <div class="container">
        <div class="scene-9__content">
          <img class="scene-9__background" src="./assets/img/openscene/background.png" alt="background" />
          <img class="scene-9__eyes" src="./assets/img/scene 8/eyes.svg" alt="eyes" />
          <img class="scene-9__fire-l" src="./assets/img/scene 8/fire L.svg" alt="fire left" />
          <img class="scene-9__fire-r" src="./assets/img/scene 8/fire R.svg" alt="fire right" />
          <img class="scene-9__big-thunder" src="./assets/img/scene 8/big thunder.svg" alt="big thunder" />
          <img class="scene-9__small-thunder" src="./assets/img/scene 8/small thunder.svg" alt="small thunder" />
          <img class="scene-9__thunder-left-1" src="./assets/img/scene 4/big thunder-l.svg" alt="thunder left 1" />
          <img class="scene-9__thunder-left-2" src="./assets/img/scene 4/small thunder-l.svg" alt="thunder left 2" />
          <div class="scene-9__text">
            <p class="scene-9__poem" data-aos="fade-down-right">They touched, then thunder split the skies â€“</p>
            <p class="scene-9__poem" data-aos="fade-down-right">She woke with fire in her eyes.</p>
          </div>
        </div>
      </div>
    </section>
    <!-- Section 10 -->
    <section class="scene-10">
      <div class="container">
        <div class="scene-10__content">
          <img class="scene-10__background" src="./assets/img/openscene/background.png" alt="background" />
          <img class="scene-10__linen" src="./assets/img/scene 9/linen.svg" alt="linen" />
          <img class="scene-10__leaf" src="./assets/img/scene 9/leaf.svg" alt="leaf" />
          <div class="scene-10__text">
            <p class="scene-10__poem" data-aos="zoom-in-down">A single leaf on linen lay â€“</p>
            <p class="scene-10__poem" data-aos="zoom-in-down">A dream too deep to drift away.</p>
          </div>
        </div>
      </div>
    </section>
    <!-- Section 11 - Final -->
    <section class="scene-11">
      <div class="container">
        <div class="scene-11__content">
          <img class="scene-11__background" src="./assets/img/openscene/background.png" alt="background" />
          <div class="scene-11__text">
            <p class="scene-11__fin" data-aos="zoom-in-down">Fin.</p>
          </div>
        </div>
      </div>
    </section>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
      AOS.init();
      
      // Music Control
      const backgroundMusic = document.getElementById('backgroundMusic');
      const musicToggle = document.getElementById('musicToggle');
      let isMusicPlaying = false;
      
      // Auto-play music immediately
      function startMusic() {
        // Unmute and play
        backgroundMusic.muted = false;
        backgroundMusic.play().then(() => {
          isMusicPlaying = true;
          musicToggle.classList.add('playing');
          musicToggle.classList.remove('muted');
        }).catch(err => {
          console.log('Auto-play prevented:', err);
          // Fallback: try to play on first user interaction
          document.addEventListener('click', function() {
            if (!isMusicPlaying) {
              backgroundMusic.muted = false;
              backgroundMusic.play().then(() => {
                isMusicPlaying = true;
                musicToggle.classList.add('playing');
                musicToggle.classList.remove('muted');
              });
            }
          }, { once: true });
        });
      }
      
      // Try to start music when page loads
      window.addEventListener('load', startMusic);
      
      // Also try immediately
      startMusic();
      
      // Toggle music play/pause
      musicToggle.addEventListener('click', function() {
        if (isMusicPlaying) {
          backgroundMusic.pause();
          musicToggle.classList.remove('playing');
          musicToggle.classList.add('muted');
          isMusicPlaying = false;
        } else {
          backgroundMusic.play();
          musicToggle.classList.add('playing');
          musicToggle.classList.remove('muted');
          isMusicPlaying = true;
        }
      });
      
      // Set initial volume
      backgroundMusic.volume = 0.3;
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            const towerElements = entry.target.querySelectorAll('.scene-8__fifth, .scene-8__forth, .scene-8__third, .scene-8__second, .scene-8__top');
            towerElements.forEach((element) => {
              element.style.animationPlayState = 'running';
            });
          } else {
            const towerElements = entry.target.querySelectorAll('.scene-8__fifth, .scene-8__forth, .scene-8__third, .scene-8__second, .scene-8__top');
            towerElements.forEach((element) => {
              element.style.animationPlayState = 'paused';
              element.style.animation = 'none';
              element.offsetHeight; 
              element.style.animation = null;
            });
          }
        });
      }, { threshold: 0.3 });
      const section8 = document.querySelector('.scene-8');
      if (section8) {
        observer.observe(section8);
      }
    </script>
  </body>
</html>
